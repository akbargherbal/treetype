{"version":3,"file":"storage-DL_W2Xu7.js","sources":["../../src/core/storage.ts"],"sourcesContent":["import { SnippetStats } from \"../types/state\";\n\n/**\n * Load all snippet statistics from localStorage\n * @returns Record of snippet IDs to their statistics\n */\nexport function loadSnippetStats(): Record<string, SnippetStats> {\n  const saved = localStorage.getItem(\"treetype_snippet_stats\");\n  return saved ? JSON.parse(saved) : {};\n}\n\n/**\n * Save or update snippet statistics\n * @param snippetId - Unique identifier for the snippet\n * @param wpm - Words per minute achieved\n * @param accuracy - Accuracy percentage achieved\n */\nexport function saveSnippetStats(\n  snippetId: string,\n  wpm: number,\n  accuracy: number\n): void {\n  const stats = loadSnippetStats();\n\n  if (!stats[snippetId]) {\n    // First time practicing this snippet\n    stats[snippetId] = {\n      bestWPM: wpm,\n      bestAccuracy: accuracy,\n      practiceCount: 1,\n      lastPracticed: new Date().toISOString(),\n    };\n  } else {\n    // Update existing stats with best scores\n    stats[snippetId].bestWPM = Math.max(stats[snippetId].bestWPM || 0, wpm);\n    stats[snippetId].bestAccuracy = Math.max(\n      stats[snippetId].bestAccuracy || 0,\n      accuracy\n    );\n    stats[snippetId].practiceCount = (stats[snippetId].practiceCount || 0) + 1;\n    stats[snippetId].lastPracticed = new Date().toISOString();\n  }\n\n  localStorage.setItem(\"treetype_snippet_stats\", JSON.stringify(stats));\n  console.log(\"Stats saved:\", snippetId, stats[snippetId]);\n}\n"],"names":["loadSnippetStats","saved","localStorage","getItem","JSON","parse","saveSnippetStats","snippetId","wpm","accuracy","stats","bestWPM","Math","max","bestAccuracy","practiceCount","lastPracticed","Date","toISOString","setItem","stringify","console","log"],"mappings":"AAMO,SAASA,IACd,MAAMC,EAAQC,aAAaC,QAAQ,0BACnC,OAAOF,EAAQG,KAAKC,MAAMJ,GAAS,CAAA,CACrC,CAQO,SAASK,EACdC,EACAC,EACAC,GAEA,MAAMC,EAAQV,IAETU,EAAMH,IAUTG,EAAMH,GAAWI,QAAUC,KAAKC,IAAIH,EAAMH,GAAWI,SAAW,EAAGH,GACnEE,EAAMH,GAAWO,aAAeF,KAAKC,IACnCH,EAAMH,GAAWO,cAAgB,EACjCL,GAEFC,EAAMH,GAAWQ,eAAiBL,EAAMH,GAAWQ,eAAiB,GAAK,EACzEL,EAAMH,GAAWS,eAAA,IAAoBC,MAAOC,eAd5CR,EAAMH,GAAa,CACjBI,QAASH,EACTM,aAAcL,EACdM,cAAe,EACfC,eAAA,IAAmBC,MAAOC,eAa9BhB,aAAaiB,QAAQ,yBAA0Bf,KAAKgB,UAAUV,IAC9DW,QAAQC,IAAI,eAAgBf,EAAWG,EAAMH,GAC/C"}