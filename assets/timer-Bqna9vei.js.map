{"version":3,"file":"timer-Bqna9vei.js","sources":["../../src/core/timer.ts"],"sourcesContent":["import { TestState } from \"../types/state\";\n\n/**\n * Calculate elapsed time excluding pauses\n * @param state - Current test state\n * @returns Elapsed time in seconds\n */\nexport function getElapsedTime(state: TestState): number {\n  if (!state.active || !state.startTime) return 0;\n\n  const now = Date.now();\n  let elapsedMs = now - state.startTime - state.totalPausedTime;\n\n  // If currently paused, exclude the current pause duration\n  if (state.paused && state.pauseStartTime) {\n    const currentPauseDuration = now - state.pauseStartTime;\n    elapsedMs -= currentPauseDuration;\n  }\n\n  return elapsedMs / 1000; // Return seconds\n}\n\n/**\n * Calculate words per minute\n * Standard: 5 characters = 1 word\n * @param charsTyped - Total characters typed\n * @param elapsedSeconds - Time elapsed in seconds\n * @returns WPM rounded to nearest integer\n */\nexport function calculateWPM(\n  charsTyped: number,\n  elapsedSeconds: number\n): number {\n  if (elapsedSeconds <= 0) return 0;\n  const elapsedMinutes = elapsedSeconds / 60;\n  return Math.round(charsTyped / 5 / elapsedMinutes);\n}\n\n/**\n * Calculate typing accuracy percentage\n * @param totalChars - Total characters typed\n * @param errors - Number of errors made\n * @returns Accuracy percentage (0-100)\n */\nexport function calculateAccuracy(totalChars: number, errors: number): number {\n  if (totalChars === 0) return 100;\n  return Math.round(((totalChars - errors) / totalChars) * 100);\n}\n\n/**\n * Format elapsed time as MM:SS\n * @param seconds - Time in seconds\n * @returns Formatted time string\n */\nexport function formatTime(seconds: number): string {\n  const minutes = Math.floor(seconds / 60);\n  const secs = Math.floor(seconds % 60);\n  return `${minutes}:${secs.toString().padStart(2, \"0\")}`;\n}\n"],"names":["getElapsedTime","state","active","startTime","now","Date","elapsedMs","totalPausedTime","paused","pauseStartTime","calculateWPM","charsTyped","elapsedSeconds","elapsedMinutes","Math","round","calculateAccuracy","totalChars","errors","formatTime","seconds","floor","toString","padStart"],"mappings":"AAOO,SAASA,EAAeC,GAC7B,IAAKA,EAAMC,SAAWD,EAAME,UAAW,OAAO,EAE9C,MAAMC,EAAMC,KAAKD,MACjB,IAAIE,EAAYF,EAAMH,EAAME,UAAYF,EAAMM,gBAG9C,GAAIN,EAAMO,QAAUP,EAAMQ,eAAgB,CAExCH,GAD6BF,EAAMH,EAAMQ,cAE3C,CAEA,OAAOH,EAAY,GACrB,CASO,SAASI,EACdC,EACAC,GAEA,GAAIA,GAAkB,EAAG,OAAO,EAChC,MAAMC,EAAiBD,EAAiB,GACxC,OAAOE,KAAKC,MAAMJ,EAAa,EAAIE,EACrC,CAQO,SAASG,EAAkBC,EAAoBC,GACpD,OAAmB,IAAfD,EAAyB,IACtBH,KAAKC,OAAQE,EAAaC,GAAUD,EAAc,IAC3D,CAOO,SAASE,EAAWC,GAGzB,MAAO,GAFSN,KAAKO,MAAMD,EAAU,OACxBN,KAAKO,MAAMD,EAAU,IACRE,WAAWC,SAAS,EAAG,MACnD"}